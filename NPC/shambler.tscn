[gd_scene load_steps=9 format=3 uid="uid://2ctjrem32j1v"]

[ext_resource type="Script" path="res://NPC/NonPlayerCharacter.cs" id="1_s50ym"]
[ext_resource type="PackedScene" uid="uid://bjk4qjwt7h3d2" path="res://UI/floating_health_bar.tscn" id="2_l0ij1"]
[ext_resource type="Script" path="res://UI/HealthBar.cs" id="3_2t8ll"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_4eeic"]
radius = 24.0
height = 48.0

[sub_resource type="Gradient" id="Gradient_4pvop"]
offsets = PackedFloat32Array(0.396104, 0.597403)
colors = PackedColorArray(0, 0.341176, 0, 1, 0, 0, 0, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_8ey2m"]
gradient = SubResource("Gradient_4pvop")
fill = 1
fill_from = Vector2(0.5, 0.5)

[sub_resource type="Gradient" id="Gradient_30ks3"]
offsets = PackedFloat32Array(0.394089, 0.423645)
colors = PackedColorArray(0.773856, 2.23808e-06, 9.62615e-07, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_mdfs5"]
gradient = SubResource("Gradient_30ks3")
width = 32
height = 32
fill = 1
fill_from = Vector2(0.5, 0.5)

[node name="Shambler" type="CharacterBody2D"]
collision_mask = 13
script = ExtResource("1_s50ym")
MoveSpeed = 30.0

[node name="FloatingHealthBar" parent="." instance=ExtResource("2_l0ij1")]
position = Vector2(-20, -36)
script = ExtResource("3_2t8ll")
bInvisibleWhenFull = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_4eeic")

[node name="BodySprite" type="Sprite2D" parent="."]
use_parent_material = true
texture = SubResource("GradientTexture2D_8ey2m")

[node name="RightEyeSprite" type="Sprite2D" parent="BodySprite"]
position = Vector2(15, 7)
rotation = -1.5708
scale = Vector2(0.694375, 0.296094)
texture = SubResource("GradientTexture2D_mdfs5")

[node name="LeftEyeSprite" type="Sprite2D" parent="BodySprite"]
position = Vector2(15, -7)
rotation = -1.5708
scale = Vector2(0.694375, 0.296094)
texture = SubResource("GradientTexture2D_mdfs5")

[connection signal="HealthChanged" from="." to="FloatingHealthBar" method="OnCharacterHealthChanged"]
